# Apriori & FPGrowth

This project implemtns Apriori and FPGrowth algorithm.
Both `apriori.py` and `fpg.py` generate freqent itemsets, but only `apriori.py`  generates rules.

## Environment

* OS: Ubuntu 16.04
* Pyhton version: 2.7.12
* WEKA version: 3.9.3

## Prerequisites (Optional)

1. Download latest weka from [here](https://www.cs.waikato.ac.nz/ml/weka/downloading.html) and extract files.
2. Enter `ibm_datagen` and  `make`

## Usage

###  Input Format

    # Each row represents a transaction
    # Each column represent an item
    
    <item1>,<item2>.....
    <item1>,<item3>,<item5>...
    ..
    ..
    
###  Command

Apriori with input file `test.csv`, minimum support=`0.5`, minimum confidence=`0.9`

    python apriori.py -f test.csv -s 0.5 -c 0.9

Apriori with input file `test.csv`, minimum support=`0.5`

    python fpg.py -f test.csv -s 0.5

## Tools

* ibm_datagen/gen.sh
    * Create data with # of transactions = 10000, 20000, ...., 100000
    * To generate adequate number of frequent items, (tlen, nitems, npats) are fixed to (20, 100, 100) respectively
* experiment.sh
    * Execute `apriori.py` and `fpg.py` with data generated by `ibm_datagen/gen.sh`, and write result to results.txt
* kaggle_test.sh
    * Execute `apriori.py` and `fpg.py` with [Transactions from a bakery](https://www.kaggle.com/xvivancos/transactions-from-a-bakery) from Kaggle
* verify.sh \<apriori_output\> \<fpg_output\>
    * Verify frequent sets generated by `apriori.py` and `fpg.py` are same
    * If frequent sets are same, then the program will show "Verify: OK" and exit with code 0

## Experiment

1. `cd ibm_datagen` : Change to ibm_datagen directory
2. `make` : Compile ibm generator
3. `./gen.sh` : Generate testing data
4. `cd ..` : Go back to the project root directory
5. `./experiment.sh` : Run experiment script
6. `vim results.txt` : Check whether the frequent sets are same and execute time of `apriori.py` and `fpg.py` 
7. `./kaggle_test.sh` : Test with kaggle data
